<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <title>ช่อดอกไม้ตามชื่อ</title>

  <!-- โหลดฟอนต์ -->
  <style>
    @font-face {
      font-family: 'TKMoojeawTester';
      src: url('TKMoojeawTester.ttf') format('truetype');
      font-weight: normal;
      font-style: normal;
    }

    body {
      font-family: 'TKMoojeawTester', cursive;
      background-color: #FFFFFF;
      margin: 0;
      padding: 20px;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    /* หัวข้อขยับดุ๊กดิ๊ก */
    h1 {
      color: #000000;
      text-align: center;
      margin-bottom: 20px;
      animation: wiggle 2s ease-in-out infinite;
    }

    @keyframes wiggle {
      0%, 100% { transform: rotate(0deg); }
      25% { transform: rotate(2deg); }
      50% { transform: rotate(-2deg); }
      75% { transform: rotate(2deg); }
    }

    .bouquet {
      position: relative;
      width: 250px;
      height: 250px;
      margin: 20px auto;
    }

    .flower {
      position: absolute;
      top: 50%;
      left: 50%;
      width: 80px;
      height: 80px;
      transform: translate(-50%, -50%) rotate(calc(360deg * var(--i) / 10));
    }

    .flower img {
      width: 100%;
    }

    .keyboard {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      max-width: 400px;
    }

    .key {
      display: inline-block;
      padding: 12px 18px;
      margin: 5px;
      background-color: #FFD1DC;
      border-radius: 10px;
      cursor: pointer;
      font-size: 1.2em;
      transition: background-color 0.2s;
      user-select: none;
    }

    .key:hover {
      background-color: #ffb3c1;
    }

    .key.backspace {
      background-color: #FFC107;
    }

    #downloadBtn {
      margin-top: 20px;
      background-color: #ff87a3;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 10px;
      cursor: pointer;
      font-size: 1.1em;
      transition: background-color 0.2s;
    }

    #downloadBtn:hover {
      background-color: #ff5c87;
    }

    footer {
      margin-top: 40px;
      font-size: 0.9em;
      color: #888;
    }

    @media (min-width: 768px) {
      .flower {
        width: 100px;
        height: 100px;
      }

      .key {
        font-size: 1.4em;
        padding: 15px 22px;
      }

      .bouquet {
        width: 300px;
        height: 300px;
      }
    }
  </style>
</head>
<body>

  <h1>พิมพ์ชื่อคุณเพื่อสร้างช่อดอกไม้SSUCOMMU</h1>

  <div class="bouquet" id="bouquet"></div>

  <div class="keyboard" id="keyboard"></div>

  <button id="downloadBtn">ดาวน์โหลดภาพช่อดอกไม้</button>

  <footer>
    <p>SIBSILPASIRISART</p>
  </footer>

  <!-- โหลด html2canvas -->
  <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>

  <script>
    const flowerMap = {
      A: 'https://cdn.glitch.global/8860279e-aa5e-4005-ae53-80fd2789f250/Untitled%20design%20(8)%20(1).png?v=1745478074910',
      B: 'https://cdn.glitch.global/8860279e-aa5e-4005-ae53-80fd2789f250/B.png?v=1745478229687',
      C: 'https://cdn.glitch.global/8860279e-aa5e-4005-ae53-80fd2789f250/C.png?v=1745478413680',
      D: 'https://cdn.glitch.global/8860279e-aa5e-4005-ae53-80fd2789f250/D.png?v=1745480728204',
      E: 'https://cdn.glitch.global/8860279e-aa5e-4005-ae53-80fd2789f250/E.png?v=1745480818861',
      F: 'https://cdn.glitch.global/8860279e-aa5e-4005-ae53-80fd2789f250/F.png?v=1745480984680',
      G: 'https://cdn.glitch.global/8860279e-aa5e-4005-ae53-80fd2789f250/G.png?v=1745481077764',
      H: 'https://cdn.glitch.global/8860279e-aa5e-4005-ae53-80fd2789f250/H.png?v=1745481220076',
      I: 'https://cdn.glitch.global/8860279e-aa5e-4005-ae53-80fd2789f250/I%20(1).png?v=1745481385866',
      J: 'https://cdn.glitch.global/8860279e-aa5e-4005-ae53-80fd2789f250/%E0%B9%8BJ.png?v=1745481461227',
      K: 'https://cdn.glitch.global/8860279e-aa5e-4005-ae53-80fd2789f250/K.png?v=1745481557480',
      L: 'https://cdn.glitch.global/8860279e-aa5e-4005-ae53-80fd2789f250/L.png?v=1745481657816',
      M: 'https://cdn.glitch.global/8860279e-aa5e-4005-ae53-80fd2789f250/M.png?v=1745481783395',
      N: 'https://cdn.glitch.global/8860279e-aa5e-4005-ae53-80fd2789f250/N.png?v=1745481917239',
      O: 'https://cdn.glitch.global/8860279e-aa5e-4005-ae53-80fd2789f250/O.png?v=1745482067218',
      P: 'https://cdn.glitch.global/8860279e-aa5e-4005-ae53-80fd2789f250/P.png?v=1745482133360',
      Q: 'https://cdn.glitch.global/8860279e-aa5e-4005-ae53-80fd2789f250/Q.png?v=1745482253079',
      R: 'https://cdn.glitch.global/8860279e-aa5e-4005-ae53-80fd2789f250/R.png?v=1745482333594',
      S: 'https://cdn.glitch.global/8860279e-aa5e-4005-ae53-80fd2789f250/S.png?v=1745482425611',
      T: 'https://cdn.glitch.global/8860279e-aa5e-4005-ae53-80fd2789f250/T.png?v=1745482512514',
      U: 'https://cdn.glitch.global/8860279e-aa5e-4005-ae53-80fd2789f250/U.png?v=1745482609125',
      V: 'https://cdn.glitch.global/8860279e-aa5e-4005-ae53-80fd2789f250/V.png?v=1745482670942',
      W: 'https://cdn.glitch.global/8860279e-aa5e-4005-ae53-80fd2789f250/W.png?v=1745482732593',
      X: 'https://cdn.glitch.global/8860279e-aa5e-4005-ae53-80fd2789f250/X.png?v=1745483047219',
      Y: 'https://cdn.glitch.global/8860279e-aa5e-4005-ae53-80fd2789f250/Y.png?v=1745483177953',
      Z: 'https://cdn.glitch.global/8860279e-aa5e-4005-ae53-80fd2789f250/Z.png?v=1745483237104',
      1: 'https://cdn.glitch.global/8860279e-aa5e-4005-ae53-80fd2789f250/%E0%B9%82%E0%B8%9A%E0%B8%A7%E0%B9%8C.png?v=1745484131532',
      2: 'https://cdn.glitch.global/8860279e-aa5e-4005-ae53-80fd2789f250/%E0%B9%82%E0%B8%9A%E0%B8%A7%E0%B9%8C2.png?v=1745484161329',
    };

    const keyboard = document.getElementById('keyboard');
    const bouquet = document.getElementById('bouquet');
    let flowerCount = 0;

    // สร้างปุ่ม A-Z + 1-2
    'ABCDEFGHIJKLMNOPQRSTUVWXYZ12'.split('').forEach((letter, index) => {
      const key = document.createElement('div');
      key.className = 'key';
      key.textContent = letter;
      key.onclick = () => addFlower(letter, flowerCount++);
      keyboard.appendChild(key);
    });

    // ปุ่มลบ
    const backspace = document.createElement('div');
    backspace.className = 'key backspace';
    backspace.textContent = '⌫';
    backspace.onclick = () => {
      const flowers = bouquet.querySelectorAll('.flower');
      if (flowers.length > 0) {
        flowers[flowers.length - 1].remove();
        flowerCount--;
      }
    };
    keyboard.appendChild(backspace);

    function addFlower(letter, index) {
      const flower = document.createElement('div');
      flower.className = 'flower';
      flower.style.setProperty('--i', index);
      flower.innerHTML = `<img src="${flowerMap[letter]}" alt="${letter}">`;
      bouquet.appendChild(flower);
    }

    // ปุ่มดาวน์โหลด
    document.getElementById('downloadBtn').addEventListener('click', () => {
      html2canvas(document.getElementById('bouquet')).then(canvas => {
        const link = document.createElement('a');
        link.download = 'my_bouquet.png';
        link.href = canvas.toDataURL();
        link.click();
      });
    });
  </script>

</body>
</html>
